<Window x:Class="GearDown.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gear Down" Height="680" Width="420"
        Icon="fan.ico" 
        Background="#121212" Foreground="White"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize">

    <Window.Resources>
        <Style x:Key="CpuButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#332200"/>
            <Setter Property="Foreground" Value="#FFCC00"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="#FFCC00"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="Black"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="#CCAA00"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="GpuButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#002211"/>
            <Setter Property="Foreground" Value="#00FF99"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="#00FF99"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="Black"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="#00CC77"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ResetButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#333333"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
             <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="White"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="Black"/>
                            </Trigger>
                             <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="#AAAAAA"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <StackPanel Margin="20">
        <TextBlock Text="GEAR DOWN" FontSize="22" FontWeight="Bold" Foreground="#00FF99" HorizontalAlignment="Center"/>
        <TextBlock x:Name="StatusText" Text="System Ready" FontSize="12" Foreground="#888888" HorizontalAlignment="Center" Margin="0,5,0,15"/>

        <Border Background="#1E1E1E" CornerRadius="10" Padding="15" Margin="0,0,0,25">
            <StackPanel>
                <TextBlock Text="GPU TEMP" FontSize="11" Foreground="#AAAAAA" HorizontalAlignment="Center"/>
                <TextBlock x:Name="TempText" Text="-- °C" FontSize="48" FontWeight="Bold" Foreground="#00FF99" HorizontalAlignment="Center"/>
                
                <Grid Margin="0,15,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock x:Name="CpuStatusText" Text="CPU: 100% (Default)" Grid.Column="0" FontSize="11" Foreground="#FFCC00" HorizontalAlignment="Center"/>
                    <TextBlock x:Name="GpuStatusText" Text="GPU: Default" Grid.Column="1" FontSize="11" Foreground="#00FF99" HorizontalAlignment="Center"/>
                </Grid>
            </StackPanel>
        </Border>

        <TextBlock Text="CPU MAX POWER STATE (%)" FontSize="12" FontWeight="Bold" Foreground="#FFCC00" Margin="0,0,0,5"/>
        <TextBlock Text="Modifies Windows Power Plans natively. 100% allows Turbo." FontSize="10" Foreground="#888888" Margin="0,0,0,10" TextWrapping="Wrap"/>
        <Slider x:Name="CpuPowerSlider" Minimum="50" Maximum="100" Value="100" 
                TickFrequency="5" IsSnapToTickEnabled="True"
                ValueChanged="CpuSlider_ValueChanged"/>
        <TextBlock x:Name="CpuSliderValueText" Text="100 %" FontSize="16" FontWeight="Bold" 
                   HorizontalAlignment="Right" Foreground="#FFCC00" Margin="0,0,0,10"/>
        
        <Button Content="APPLY CPU LIMIT" Click="ApplyCpu_Click" 
                Style="{StaticResource CpuButtonStyle}" Height="35" Margin="0,0,0,25"/>

        <TextBlock Text="GPU MAX FREQUENCY (MHz)" FontSize="12" FontWeight="Bold" Foreground="#00FF99" Margin="0,0,0,5"/>
        <TextBlock Text="Dynamic Range: Allows downclocking to 210 MHz when idle." FontSize="10" Foreground="#888888" Margin="0,0,0,10" TextWrapping="Wrap"/>
        <Slider x:Name="FreqSlider" Minimum="210" Maximum="3500" Value="2100" 
                TickFrequency="50" IsSnapToTickEnabled="True"
                ValueChanged="FreqSlider_ValueChanged"/>
        <TextBlock x:Name="SliderValueText" Text="2100 MHz" FontSize="16" FontWeight="Bold" 
                   HorizontalAlignment="Right" Foreground="#00FF99" Margin="0,0,0,10"/>

        <Button Content="APPLY GPU LIMIT" Click="ApplyGpu_Click" 
                Style="{StaticResource GpuButtonStyle}" Height="35" Margin="0,0,0,25"/>

        <Button Content="RESET EVERYTHING" Click="Reset_Click" 
                Style="{StaticResource ResetButtonStyle}" Height="45"/>
    </StackPanel>
</Window>